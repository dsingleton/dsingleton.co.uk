<Directory "/var/www/dsingleton.co.uk/www">
    RewriteEngine On
    
    RewriteCond %{HTTP_HOST} ^www.dsingleton.co.uk [NC]
    RewriteRule ^(.*)$ http://dsingleton.co.uk/$1 [L,R=301]
    
    RewriteCond %{HTTP_HOST} ^me.dsingleton.co.uk [NC]
    RewriteRule ^(.*)$ http://dsingleton.co.uk/$1 [L,R=301]
    
    # Special cases where the slug has changed
    RewriteRule ^archive/sxsw-day-1-in-an-aeroplane-over-the-sea/{0,1}.*$ /blog/sxsw-day-one [R=permanent,L,NC] 
    RewriteRule ^archive/post-dconstruct-a-review/{0,1}.*$ /blog/dconstruct-2006 [R=permanent,L,NC] 
    RewriteRule ^archive/28/{0,1}.*$ /blog/xfn-icons-css [R=permanent,L,NC] 
    
    # Default case, redirect with slug
    RewriteRule ^archive?/(.[^/.]*)/{0,1}.*$ /blog/$1 [R=permanent,L,NC] 
    
    # This, is a right fucking pain. I need to disable multi view and do proper dispatch/URL handling.  
    # RewriteRule ^(.*)\.php/{0,1}(.*)$ http://dsingleton.co.uk/$1/$2 [L,R=301]
</Directory>