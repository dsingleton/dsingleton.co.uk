<!doctype html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	
	<title>Testing the Tumblr API - David Singleton</title>

    <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    	
    <meta name="description" content="The blog of David Singleton, Ramblings of a Web Developer" />
    <meta name="keywords" content="david singleton, dave singleton, web developer, london, css, php, lamp, mysql, unix, programming, web standards, coding, microformats, web sites, angry rants" />
    <meta name="author" content="David Singleton" />
    <meta name="robots" content="index, follow" />

    <meta name="viewport" content="initial-scale=1.0, width=device-width, maximum-scale=1.0"/>

    <link rel="stylesheet" href="/static/css/less.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/base.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/typography.css" type="text/css" />
    
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
    

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    

</head>

<body>
    
    <div id="page">

        <header>
            <p>
                <span class="myname">
                    <a class="name" href="/" ><span class="firstname">David</span> <span class="lastname">Singleton</span></a>
                </span>
                <span class="aboutme">
                    A <span class="title">web developer</span>
                    living in <span class="adr"><span class="locality">London</span></span>
                    and working at <a href="http://last.fm">Last.fm</a>.
                </span>
                <span class="tagline">I occasionally write a <a href="/blog">blog</a> and publish some <a href="/code">code</a>, find out <a href="/about">more &raquo;</a></span>
            </p>

        </header>

        
<article class="blog-entry">
        <h1>Testing the Tumblr API</h1>
        <p>Just testing the Tumblr API. I&#8217;ve been pulling content in to my personal site (<a href="http://dsingleton.co.uk">http://dsingleton.co.uk</a>) via the JSON API using the <em>search</em> parameter.</p>

<p>Looking up by slug for each article works for all except Open Tech 2009. For some reason it doesn&#8217;t seem to be in the search index, as it&#8217;s not even picked up when searching for the term &#8220;open&#8221;.</p>

<p>Possibly explanations</p>

<ol><li>Large articles aren&#8217;t indexed for the search API - My open tech post was ~3,500 words. </li>
<li>That article is missing from the index due to a bug, possibly a caching error.</li>
</ol><p>The former sounds a little unlikely. While Tumblr is intended for short snappy posts I&#8217;m sure there are much longer posts, and ~3,500 is not <em>that</em> big.</p>

<p>Equally, i&#8217;m not sure it&#8217;s a caching bug as i&#8217;ve edited it a couple of times in an attempt to invalid the cache. No joy there.</p>

<p>I&#8217;ve contacted one of the Tumblr developers, hoping they can shed some light on the problem - or at least explain the search nuances I may be missing.</p>

<p>I also asked for a new API parameter, getBySlug. I wouldn&#8217;t need to be mucking around with search if there was a simple method to look up an article by it&#8217;s public slug (not the semi-private internal post ID).</p>

<p>A short term fix for me will be caching a map of slug =&gt; id of the last 50 articles I added to my Tumble log (the most you can get form the API in one page) and using that to do the API lookup. It feels pretty kludgey requiring stateful information between requests to do this (or worse, make two requests per page).</p>
        <p class="post-info">
            Posted on
            <abbr class="published" title="2009-07-14T22:50:53+02:00">Tuesday July 14, 2009</abbr>
        </p>
        <p>Tagged:
        <ul class="tags">
                    <li rel="tag">tumblr</li>
                    <li rel="tag">api</li>
                    <li rel="tag">bug</li>
                </ul>
        </p>
</article>

<aside>
    <div class="recent posts">
        <h4>Recent posts</h4>
        <ul class="posts">
                    <li><a href="/blog/scrobbling-heatmap-calendar">Scrobbling Heatmap Calendar</a></li>
                    <li><a href="/blog/last-fm-now-playing-information-radiator">Last.fm Now-Playing information radiator</a></li>
                    <li><a href="/blog/leaving-last-fm">Leaving Last.fm</a></li>
                    <li><a href="/blog/facebook-photo-facial-recognition">Facebook photo facial recognition</a></li>
                    <li><a href="/blog/entitlement-artificial-scarcity-spotify">Artificial Scarcity and Entitlement</a></li>
                    <li><a href="/blog/migrating-scrobbling-authentication-to-2-0">Migrating scrobbling authentication to 2.0</a></li>
                    <li><a href="/blog/erlang-beginners-tutorial">Erlang: For an absolute beginner</a></li>
                    <li><a href="/blog/tech-hub-misrepresents-silicon-roundabout">Tech Hub misrepresents Silicon Roundabout</a></li>
                    <li><a href="/blog/virtualised-development-environments">The importance of virtualised development environments</a></li>
                    <li><a href="/blog/new-twitter-favouritism">New Twitter favouritism</a></li>
                </ul>
        
        <p><a href="/blog">More&hellip;</p>
    </div>
</aside>

</article>

        <footer id="footer">
            <ul>
                <li class="twitter"><a href="http://twitter.com/dsingleton">Follow me on twitter</a></li>
            </ul> 
        </footer>

    </div><!-- /#page -->

<!-- Analytics tracking code -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
<script type="text/javascript">_uacct = "UA-609105-1"; urchinTracker();</script>  

</body>
</html>
