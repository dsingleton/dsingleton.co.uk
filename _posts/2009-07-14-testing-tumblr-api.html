---
layout: post
title: Testing the Tumblr API
date: 2009-07-14 22:50:53
categories: tumblr api
---
<p>Just testing the Tumblr API. I&#8217;ve been pulling content in to my personal site (<a href="http://dsingleton.co.uk">http://dsingleton.co.uk</a>) via the JSON API using the <em>search</em> parameter.</p>

<p>Looking up by slug for each article works for all except Open Tech 2009. For some reason it doesn&#8217;t seem to be in the search index, as it&#8217;s not even picked up when searching for the term &#8220;open&#8221;.</p>

<p>Possibly explanations</p>

<ol><li>Large articles aren&#8217;t indexed for the search API - My open tech post was ~3,500 words. </li>
<li>That article is missing from the index due to a bug, possibly a caching error.</li>
</ol><p>The former sounds a little unlikely. While Tumblr is intended for short snappy posts I&#8217;m sure there are much longer posts, and ~3,500 is not <em>that</em> big.</p>

<p>Equally, i&#8217;m not sure it&#8217;s a caching bug as i&#8217;ve edited it a couple of times in an attempt to invalid the cache. No joy there.</p>

<p>I&#8217;ve contacted one of the Tumblr developers, hoping they can shed some light on the problem - or at least explain the search nuances I may be missing.</p>

<p>I also asked for a new API parameter, getBySlug. I wouldn&#8217;t need to be mucking around with search if there was a simple method to look up an article by it&#8217;s public slug (not the semi-private internal post ID).</p>

<p>A short term fix for me will be caching a map of slug =&gt; id of the last 50 articles I added to my Tumble log (the most you can get form the API in one page) and using that to do the API lookup. It feels pretty kludgey requiring stateful information between requests to do this (or worse, make two requests per page).</p>
